{"version":3,"sources":["pages/Content/Travel/index.jsx"],"names":["mapboxgl","accessToken","Travel","props","state","lng","lat","zoom","mapContainer","React","createRef","this","map","Map","container","current","style","center","on","setState","getCenter","toFixed","getZoom","addSource","type","data","features","places","addLayer","id","source","paint","popup","Popup","closeButton","closeOnClick","e","getCanvas","cursor","coordinates","geometry","slice","description","properties","title","Math","abs","lngLat","setLngLat","setHTML","addTo","remove","ref","className","Component"],"mappings":"24PAKAA,IAASC,YAAc,6F,IAEFC,E,kDACpB,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CACZC,KAAM,IACNC,IAAK,MACLC,KAAM,KAEP,EAAKC,aAAeC,IAAMC,YAPR,E,qDAUnB,WAAqB,IAAD,OACnB,EAA2BC,KAAKP,MAAxBC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAKC,EAAlB,EAAkBA,KAEZK,EAAM,IAAIZ,IAASa,IAAI,CAC5BC,UAAWH,KAAKH,aAAaO,QAC7BC,MAAO,qCACPC,OAAQ,CAAEZ,EAAKC,GACfC,KAAMA,IAGPK,EAAIM,GAAG,QAAQ,WACd,EAAKC,SAAS,CACbd,IAAKO,EAAIQ,YAAYf,IAAIgB,QAAQ,GACjCf,IAAKM,EAAIQ,YAAYd,IAAIe,QAAQ,GACjCd,KAAMK,EAAIU,UAAUD,QAAQ,QAI9BT,EAAIM,GAAG,QAAQ,WACdN,EAAIW,UAAU,SAAU,CACvBC,KAAM,UACNC,KAAM,CACLD,KAAM,oBACNE,SAAUC,OAIZf,EAAIgB,SAAS,CACZC,GAAI,SACJL,KAAM,SACNM,OAAQ,SACRC,MAAO,CACN,eAAgB,UAChB,gBAAiB,EACjB,sBAAuB,EACvB,sBAAuB,aAIzB,IAAMC,EAAQ,IAAIhC,IAASiC,MAAM,CAChCC,aAAa,EACbC,cAAc,IAEfvB,EAAIM,GAAG,aAAc,UAAU,SAACkB,GAC/BxB,EAAIyB,YAAYrB,MAAMsB,OAAS,UAK/B,IAHA,IAAMC,EAAcH,EAAEV,SAAS,GAAGc,SAASD,YAAYE,QACjDC,EAAcN,EAAEV,SAAS,GAAGiB,WAAWC,MAEtCC,KAAKC,IAAIV,EAAEW,OAAO1C,IAAMkC,EAAY,IAAM,KAChDA,EAAY,IAAMH,EAAEW,OAAO1C,IAAMkC,EAAY,GAAK,KAAO,IAG1DP,EAAMgB,UAAUT,GAAaU,QAAQP,GAAaQ,MAAMtC,MAGzDA,EAAIM,GAAG,aAAc,UAAU,WAC9BN,EAAIyB,YAAYrB,MAAMsB,OAAS,GAC/BN,EAAMmB,iB,oBAKT,WACC,OACC,eAAC,WAAD,WACC,qBAAKC,IAAKzC,KAAKH,aAAc6C,UAAU,kBACvC,sBAAKA,UAAU,cAAf,UACC,+CACA,gJ,GAhF+BC","file":"static/js/8.1b42dc37.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport './index.css';\nimport { places } from './places.json';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZXZhdGl0YW4iLCJhIjoiY2t3dnpybmliMW8yYzJxbHN2YzZjbTl0bCJ9.10T6Bwu36_Ir3xaAUZuG0A';\n\nexport default class Travel extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlng: -3.7,\n\t\t\tlat: 40.41,\n\t\t\tzoom: 2.5\n\t\t};\n\t\tthis.mapContainer = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { lng, lat, zoom } = this.state;\n\n\t\tconst map = new mapboxgl.Map({\n\t\t\tcontainer: this.mapContainer.current,\n\t\t\tstyle: 'mapbox://styles/mapbox/streets-v11',\n\t\t\tcenter: [ lng, lat ],\n\t\t\tzoom: zoom\n\t\t});\n\n\t\tmap.on('move', () => {\n\t\t\tthis.setState({\n\t\t\t\tlng: map.getCenter().lng.toFixed(4),\n\t\t\t\tlat: map.getCenter().lat.toFixed(4),\n\t\t\t\tzoom: map.getZoom().toFixed(2)\n\t\t\t});\n\t\t});\n\n\t\tmap.on('load', () => {\n\t\t\tmap.addSource('places', {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: {\n\t\t\t\t\ttype: 'FeatureCollection',\n\t\t\t\t\tfeatures: places\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: 'places',\n\t\t\t\ttype: 'circle',\n\t\t\t\tsource: 'places',\n\t\t\t\tpaint: {\n\t\t\t\t\t'circle-color': '#4264fb',\n\t\t\t\t\t'circle-radius': 6,\n\t\t\t\t\t'circle-stroke-width': 2,\n\t\t\t\t\t'circle-stroke-color': '#ffffff'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst popup = new mapboxgl.Popup({\n\t\t\t\tcloseButton: false,\n\t\t\t\tcloseOnClick: false\n\t\t\t});\n\t\t\tmap.on('mouseenter', 'places', (e) => {\n\t\t\t\tmap.getCanvas().style.cursor = 'pointer';\n\n\t\t\t\tconst coordinates = e.features[0].geometry.coordinates.slice();\n\t\t\t\tconst description = e.features[0].properties.title;\n\n\t\t\t\twhile (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n\t\t\t\t\tcoordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n\t\t\t\t}\n\n\t\t\t\tpopup.setLngLat(coordinates).setHTML(description).addTo(map);\n\t\t\t});\n\n\t\t\tmap.on('mouseleave', 'places', () => {\n\t\t\t\tmap.getCanvas().style.cursor = '';\n\t\t\t\tpopup.remove();\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div ref={this.mapContainer} className=\"map-container\" />\n\t\t\t\t<div className=\"travel-page\">\n\t\t\t\t\t<h2>My Travel Map</h2>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLife is like a journey, I don't care about the destination, but the scenery and the mood at the\n\t\t\t\t\t\tview.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n"],"sourceRoot":""}